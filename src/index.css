/* 先放所有 @import，在最上方 */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;600;700&display=swap');
@import "tailwindcss";

/* ---- 基礎主題變數 ---- */
:root{
  --brand-1:#8b5cf6; /* violet */
  --brand-2:#f472b6; /* pink */
}
html,body,#root{ height:100%; }
body{
  font-family:"Noto Sans TC",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}

/* ---- 遊戲化元件（用純 CSS，避免 @apply 問題） ---- */
.game-card{
  background:
    linear-gradient(#fff,#fff) padding-box,
    linear-gradient(135deg,var(--brand-1),var(--brand-2)) border-box;
  border:1px solid transparent;
  border-radius:1rem;         /* ≈ rounded-2xl */
  box-shadow:0 1px 2px rgba(16,24,40,.06);
  padding:1rem;               /* p-4 */
  backdrop-filter: blur(4px); /* 霧面 */
}

.btn{
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:1rem; padding:.5rem 1rem; /* rounded-2xl px-4 py-2 */
  font-size:.875rem; font-weight:500;
  transition: transform .1s ease, filter .15s ease;
}
.btn:active{ transform: translateY(1px); }
.btn-primary{
  background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
  color:#fff; box-shadow:0 1px 2px rgba(16,24,40,.06);
}
.btn-primary:hover{ filter:brightness(1.05); }
.btn-outline{
  background:linear-gradient(#fff,#fff) padding-box,
             linear-gradient(135deg,var(--brand-1),var(--brand-2)) border-box;
  border:1px solid transparent;
}

.timer-badge{
  padding:.25rem .75rem; border-radius:.75rem; /* rounded-xl */
  font-size:.875rem; font-weight:600;
  background:#f5f5f5; color:#3f3f46;          /* neutral */
}
.timer-badge.danger{ background:#fee2e2; color:#b91c1c; animation:pulse 1.2s infinite; }

.answer{
  padding:.75rem; border-radius:.75rem; border:1px solid #e5e7eb; text-align:left;
  transition: background-color .15s ease, transform .1s ease;
}
.answer:hover{ background:#f8fafc; transform: translateY(-1px); }
.answer.correct{
  background:#dcfce7; border-color:#86efac;
  box-shadow:0 0 0 2px rgba(34,197,94,.35) inset; animation:pop-in .25s ease-out;
}
.answer.wrong{ background:#fee2e2; border-color:#fca5a5; animation:shake .25s ease-in-out; }

.badge-tile{ padding:.75rem; border-radius:1rem; border:1px solid #e57e7eb; }
.badge-tile.locked{ background:#f5f5f5; opacity:.8; }

/* ---- 動畫 ---- */
@keyframes pop-in{ 0%{ transform:scale(.98); opacity:.6 } 100%{ transform:scale(1); opacity:1 } }
@keyframes shake{ 0%,100%{ transform:translateX(0) } 25%{ transform:translateX(-2px) } 50%{ transform:translateX(2px) } 75%{ transform:translateX(-1px) } }
@keyframes pulse{ 0%,100%{ opacity:1 } 50%{ opacity:.5 } }


/* ==== Fireworks (通過時的煙火) ==== */
@keyframes spark {
  0%   { transform: translate(0,0) scale(1);   opacity: 1; }
  80%  { transform: translate(var(--dx), var(--dy)) scale(.8); opacity: .9; }
  100% { transform: translate(var(--dx), var(--dy)) scale(.6); opacity: 0; }
}
@keyframes ring {
  0%   { transform: scale(.2); opacity: .35; }
  100% { transform: scale(1.2); opacity: 0; }
}
.fireworks {
  position: absolute; inset: 0;
  pointer-events: none; overflow: hidden;
}
.fireworks__spark {
  position: absolute; left: 50%; top: 50%;
  width: 6px; height: 6px; border-radius: 9999px;
  animation: spark .9s ease-out forwards;
}
.fireworks__spark--bar { width: 3px; height: 14px; border-radius: 2px; }
.fireworks__ring {
  position: absolute; left: 50%; top: 50%;
  width: 120px; height: 120px; margin-left: -60px; margin-top: -60px;
  border: 2px solid rgba(16,185,129,.6); border-radius: 9999px;
  animation: ring 1.1s ease-out forwards;
}

/* ==== 抖動（答錯） ==== */
@keyframes jiggle {
  0%,100% { transform: translateX(0); }
  20%     { transform: translateX(-2px); }
  40%     { transform: translateX(2px); }
  60%     { transform: translateX(-2px); }
  80%     { transform: translateX(2px); }
}
.shake-once { animation: jiggle .32s ease-in-out 1; }